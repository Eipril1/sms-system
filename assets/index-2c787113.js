import{d as G,r as u,c as H,e,f as a,b as k,h as d,i as J,m as p,t as w,E as N,z as x,_ as K}from"./index-97e706ba.js";const L={class:"departments-container"},O={class:"pagination"},Q={class:"dialog-footer"},W=G({__name:"index",setup(X){const m=u({deptName:"",status:""}),_=u(1),v=u(10),U=u(100),z=u([{deptCode:"D001",deptName:"飞行部",leader:"张三",phone:"13800138001",email:"flight@example.com",description:"负责飞行相关工作",status:"1",createTime:"2024-01-01 12:00:00"}]),c=u(!1),f=u(""),b=u(),o=u({deptName:"",leader:"",phone:"",email:"",description:""}),T={deptName:[{required:!0,message:"请输入部门名称",trigger:"blur"}],leader:[{required:!0,message:"请输入负责人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},V=()=>{console.log("搜索条件:",m.value)},B=()=>{f.value="新增部门",o.value={deptName:"",leader:"",phone:"",email:"",description:""},c.value=!0},S=n=>{f.value="编辑部门",o.value={...n},c.value=!0},$=n=>{const l=n.status==="1"?"禁用":"启用";N.confirm(`确认${l}该部门?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("切换状态:",n),x.success(`${l}成功`)})},E=n=>{N.confirm("确认删除该部门?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("删除:",n),x.success("删除成功")})},q=async()=>{b.value&&await b.value.validate(n=>{n&&(console.log("提交表单:",o.value),c.value=!1,x.success(f.value==="新增部门"?"新增成功":"编辑成功"))})},D=n=>{v.value=n,V()},M=n=>{_.value=n,V()};return(n,l)=>{const g=d("el-input"),r=d("el-form-item"),y=d("el-option"),P=d("el-select"),i=d("el-button"),C=d("el-form"),R=d("el-card"),s=d("el-table-column"),j=d("el-tag"),A=d("el-table"),F=d("el-pagination"),I=d("el-dialog");return J(),H("div",L,[e(R,{class:"search-card"},{default:a(()=>[e(C,{inline:!0,model:m.value},{default:a(()=>[e(r,{label:"部门名称"},{default:a(()=>[e(g,{modelValue:m.value.deptName,"onUpdate:modelValue":l[0]||(l[0]=t=>m.value.deptName=t),placeholder:"请输入部门名称",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"状态"},{default:a(()=>[e(P,{modelValue:m.value.status,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value.status=t),placeholder:"请选择",clearable:""},{default:a(()=>[e(y,{label:"全部",value:""}),e(y,{label:"启用",value:"1"}),e(y,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(i,{type:"primary",onClick:V},{default:a(()=>l[11]||(l[11]=[p("查询")])),_:1}),e(i,{type:"success",onClick:B},{default:a(()=>l[12]||(l[12]=[p("新增部门")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(A,{data:z.value,border:"",style:{width:"100%"}},{default:a(()=>[e(s,{type:"index",label:"序号",width:"60",align:"center"}),e(s,{prop:"deptCode",label:"部门编码",width:"120"}),e(s,{prop:"deptName",label:"部门名称",width:"150"}),e(s,{prop:"leader",label:"负责人",width:"120"}),e(s,{prop:"phone",label:"联系电话",width:"120"}),e(s,{prop:"email",label:"邮箱",width:"180"}),e(s,{prop:"description",label:"部门描述","min-width":"200","show-overflow-tooltip":""}),e(s,{prop:"status",label:"状态",width:"100"},{default:a(({row:t})=>[e(j,{type:t.status==="1"?"success":"danger"},{default:a(()=>[p(w(t.status==="1"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"createTime",label:"创建时间",width:"180"}),e(s,{label:"操作",width:"180",fixed:"right"},{default:a(({row:t})=>[e(i,{link:"",type:"primary",onClick:h=>S(t)},{default:a(()=>l[13]||(l[13]=[p("编辑")])),_:2},1032,["onClick"]),e(i,{link:"",type:t.status==="1"?"danger":"success",onClick:h=>$(t)},{default:a(()=>[p(w(t.status==="1"?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),e(i,{link:"",type:"danger",onClick:h=>E(t)},{default:a(()=>l[14]||(l[14]=[p("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),k("div",O,[e(F,{"current-page":_.value,"onUpdate:currentPage":l[2]||(l[2]=t=>_.value=t),"page-size":v.value,"onUpdate:pageSize":l[3]||(l[3]=t=>v.value=t),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:U.value,onSizeChange:D,onCurrentChange:M},null,8,["current-page","page-size","total"])]),e(I,{title:f.value,modelValue:c.value,"onUpdate:modelValue":l[10]||(l[10]=t=>c.value=t),width:"500px","close-on-click-modal":!1},{footer:a(()=>[k("span",Q,[e(i,{onClick:l[9]||(l[9]=t=>c.value=!1)},{default:a(()=>l[15]||(l[15]=[p("取消")])),_:1}),e(i,{type:"primary",onClick:q},{default:a(()=>l[16]||(l[16]=[p("确定")])),_:1})])]),default:a(()=>[e(C,{ref_key:"formRef",ref:b,model:o.value,rules:T,"label-width":"80px"},{default:a(()=>[e(r,{label:"部门名称",prop:"deptName"},{default:a(()=>[e(g,{modelValue:o.value.deptName,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.deptName=t),placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1}),e(r,{label:"负责人",prop:"leader"},{default:a(()=>[e(g,{modelValue:o.value.leader,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.leader=t),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(r,{label:"联系电话",prop:"phone"},{default:a(()=>[e(g,{modelValue:o.value.phone,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.phone=t),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),e(r,{label:"邮箱",prop:"email"},{default:a(()=>[e(g,{modelValue:o.value.email,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(r,{label:"部门描述",prop:"description"},{default:a(()=>[e(g,{modelValue:o.value.description,"onUpdate:modelValue":l[8]||(l[8]=t=>o.value.description=t),type:"textarea",rows:3,placeholder:"请输入部门描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});const Z=K(W,[["__scopeId","data-v-2fbbc2c3"]]);export{Z as default};
