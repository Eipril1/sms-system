import{d as G,L as H,r,w as J,c as K,b as c,e as a,f as o,bl as v,N as O,k as Q,h as i,M as R,i as C,v as W,D as X,m as n,E as Y,z as h,_ as Z}from"./index-97e706ba.js";const ee={class:"library-container"},te={class:"toolbar"},ae={class:"search-area"},oe={class:"action-area"},le={class:"pagination"},se=G({__name:"BaseLibrary",props:{data:{}},emits:["search","reset"],setup(w,{expose:V,emit:x}){const u=H({keyword:""}),z=r(!1),g=r([]),y=r(0),m=r(1),_=r(10),d=r(!1),f=r("add"),k=x,p=()=>{k("search",u.keyword)},b=()=>{u.keyword="",k("reset")},B=()=>{f.value="add",d.value=!0},S=t=>{f.value="edit",d.value=!0},$=t=>{Y.confirm("确认删除该记录？","提示",{type:"warning"}).then(()=>{h.success("删除成功")})},E=()=>{},L=t=>{_.value=t,p()},N=t=>{m.value=t,p()},U=()=>{d.value=!1,h.success("保存成功")},D=w;return J(()=>D.data,t=>{t&&(g.value=t,y.value=t.length)},{immediate:!0}),V({handleSearch:p,resetSearch:b}),(t,e)=>{const M=i("el-icon"),T=i("el-input"),s=i("el-button"),j=i("el-table-column"),A=i("el-table"),F=i("el-pagination"),I=i("el-dialog"),P=R("loading");return C(),K("div",ee,[c("div",te,[c("div",ae,[a(T,{modelValue:u.keyword,"onUpdate:modelValue":e[0]||(e[0]=l=>u.keyword=l),placeholder:"请输入关键词搜索",clearable:"",class:"search-input"},{prefix:o(()=>[a(M,null,{default:o(()=>[a(W(X))]),_:1})]),_:1},8,["modelValue"]),v(t.$slots,"extra-search",{},void 0,!0),a(s,{type:"primary",onClick:p},{default:o(()=>e[5]||(e[5]=[n("搜索")])),_:1}),a(s,{onClick:b},{default:o(()=>e[6]||(e[6]=[n("重置")])),_:1})]),c("div",oe,[v(t.$slots,"actions",{},()=>[a(s,{type:"primary",onClick:B},{default:o(()=>e[7]||(e[7]=[n("新增")])),_:1}),a(s,{type:"success",onClick:E},{default:o(()=>e[8]||(e[8]=[n("导出")])),_:1})],!0)])]),O((C(),Q(A,{data:g.value,border:"",style:{width:"100%"}},{default:o(()=>[v(t.$slots,"columns",{},void 0,!0),a(j,{label:"操作",width:"150",fixed:"right"},{default:o(({row:l})=>[a(s,{link:"",type:"primary",onClick:q=>S(l)},{default:o(()=>e[9]||(e[9]=[n("编辑")])),_:2},1032,["onClick"]),a(s,{link:"",type:"danger",onClick:q=>$(l)},{default:o(()=>e[10]||(e[10]=[n("删除")])),_:2},1032,["onClick"])]),_:1})]),_:3},8,["data"])),[[P,z.value]]),c("div",le,[a(F,{"current-page":m.value,"onUpdate:currentPage":e[1]||(e[1]=l=>m.value=l),"page-size":_.value,"onUpdate:pageSize":e[2]||(e[2]=l=>_.value=l),total:y.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:L,onCurrentChange:N},null,8,["current-page","page-size","total"])]),a(I,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value=l),title:f.value==="add"?"新增":"编辑",width:"50%"},{footer:o(()=>[a(s,{onClick:e[3]||(e[3]=l=>d.value=!1)},{default:o(()=>e[11]||(e[11]=[n("取消")])),_:1}),a(s,{type:"primary",onClick:U},{default:o(()=>e[12]||(e[12]=[n("确定")])),_:1})]),default:o(()=>[v(t.$slots,"form",{},void 0,!0)]),_:3},8,["modelValue","title"])])}}});const re=Z(se,[["__scopeId","data-v-fde2aa58"]]);export{re as B};
