import{d as J,r as p,c as K,e,f as o,h as n,i as f,m as d,k as v,l as O,p as b,t as k,b as P,E as T,z as x,_ as Q}from"./index-97e706ba.js";const W={class:"menus-container"},X={class:"dialog-footer"},Y=J({__name:"index",setup(Z){const i=p({menuName:"",status:""}),C=p([{id:1,menuName:"系统管理",icon:"Setting",type:"menu",orderNum:1,perms:"system",path:"/system",component:"Layout",status:"1",children:[{id:11,menuName:"用户管理",icon:"User",type:"menu",orderNum:1,perms:"system:user",path:"users",component:"/system/users/index",status:"1"},{id:12,menuName:"角色管理",icon:"UserFilled",type:"menu",orderNum:2,perms:"system:role",path:"roles",component:"/system/roles/index",status:"1"}]}]),$=p([{id:0,menuName:"主目录",children:[...C.value]}]),c=p(!1),y=p(""),V=p(),a=p({parentId:"",type:"menu",menuName:"",icon:"",orderNum:0,perms:"",path:"",component:""}),E={type:[{required:!0,message:"请选择菜单类型",trigger:"change"}],menuName:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],orderNum:[{required:!0,message:"请输入排序号",trigger:"blur"}]},I=()=>{console.log("搜索条件:",i.value)},h=u=>{y.value="新增菜单",a.value={parentId:(u==null?void 0:u.id)||"",type:"menu",menuName:"",icon:"",orderNum:0,perms:"",path:"",component:""},c.value=!0},S=u=>{y.value="编辑菜单",a.value={...u},c.value=!0},D=u=>{const l=u.status==="1"?"禁用":"启用";T.confirm(`确认${l}该菜单?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("切换状态:",u),x.success(`${l}成功`)})},q=u=>{T.confirm("确认删除该菜单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log("删除:",u),x.success("删除成功")})},F=async()=>{V.value&&await V.value.validate(u=>{u&&(console.log("提交表单:",a.value),c.value=!1,x.success(y.value==="新增菜单"?"新增成功":"编辑成功"))})};return(u,l)=>{const _=n("el-input"),s=n("el-form-item"),g=n("el-option"),M=n("el-select"),r=n("el-button"),U=n("el-form"),R=n("el-card"),m=n("el-table-column"),z=n("el-icon"),w=n("el-tag"),A=n("el-table"),L=n("el-tree-select"),B=n("el-radio"),j=n("el-radio-group"),G=n("el-input-number"),H=n("el-dialog");return f(),K("div",W,[e(R,{class:"search-card"},{default:o(()=>[e(U,{inline:!0,model:i.value},{default:o(()=>[e(s,{label:"菜单名称"},{default:o(()=>[e(_,{modelValue:i.value.menuName,"onUpdate:modelValue":l[0]||(l[0]=t=>i.value.menuName=t),placeholder:"请输入菜单名称",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{label:"状态"},{default:o(()=>[e(M,{modelValue:i.value.status,"onUpdate:modelValue":l[1]||(l[1]=t=>i.value.status=t),placeholder:"请选择",clearable:""},{default:o(()=>[e(g,{label:"全部",value:""}),e(g,{label:"启用",value:"1"}),e(g,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:o(()=>[e(r,{type:"primary",onClick:I},{default:o(()=>l[12]||(l[12]=[d("查询")])),_:1}),e(r,{type:"success",onClick:h},{default:o(()=>l[13]||(l[13]=[d("新增菜单")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(A,{data:C.value,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:o(()=>[e(m,{prop:"menuName",label:"菜单名称",width:"180"}),e(m,{prop:"icon",label:"图标",width:"80"},{default:o(({row:t})=>[t.icon?(f(),v(z,{key:0},{default:o(()=>[(f(),v(O(t.icon)))]),_:2},1024)):b("",!0)]),_:1}),e(m,{prop:"type",label:"菜单类型",width:"100"},{default:o(({row:t})=>[e(w,{type:t.type==="menu"?"":"info"},{default:o(()=>[d(k(t.type==="menu"?"菜单":"按钮"),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"orderNum",label:"排序",width:"80"}),e(m,{prop:"perms",label:"权限标识","min-width":"150","show-overflow-tooltip":""}),e(m,{prop:"path",label:"路由地址","min-width":"150","show-overflow-tooltip":""}),e(m,{prop:"component",label:"组件路径","min-width":"150","show-overflow-tooltip":""}),e(m,{prop:"status",label:"状态",width:"100"},{default:o(({row:t})=>[e(w,{type:t.status==="1"?"success":"danger"},{default:o(()=>[d(k(t.status==="1"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(m,{label:"操作",width:"200",fixed:"right"},{default:o(({row:t})=>[e(r,{link:"",type:"primary",onClick:N=>h(t)},{default:o(()=>l[14]||(l[14]=[d("新增")])),_:2},1032,["onClick"]),e(r,{link:"",type:"primary",onClick:N=>S(t)},{default:o(()=>l[15]||(l[15]=[d("编辑")])),_:2},1032,["onClick"]),e(r,{link:"",type:t.status==="1"?"danger":"success",onClick:N=>D(t)},{default:o(()=>[d(k(t.status==="1"?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),e(r,{link:"",type:"danger",onClick:N=>q(t)},{default:o(()=>l[16]||(l[16]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(H,{title:y.value,modelValue:c.value,"onUpdate:modelValue":l[11]||(l[11]=t=>c.value=t),width:"600px","close-on-click-modal":!1},{footer:o(()=>[P("span",X,[e(r,{onClick:l[10]||(l[10]=t=>c.value=!1)},{default:o(()=>l[19]||(l[19]=[d("取消")])),_:1}),e(r,{type:"primary",onClick:F},{default:o(()=>l[20]||(l[20]=[d("确定")])),_:1})])]),default:o(()=>[e(U,{ref_key:"formRef",ref:V,model:a.value,rules:E,"label-width":"100px"},{default:o(()=>[e(s,{label:"上级菜单"},{default:o(()=>[e(L,{modelValue:a.value.parentId,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.parentId=t),data:$.value,placeholder:"请选择上级菜单",props:{label:"menuName",value:"id"},"check-strictly":"",clearable:""},null,8,["modelValue","data"])]),_:1}),e(s,{label:"菜单类型",prop:"type"},{default:o(()=>[e(j,{modelValue:a.value.type,"onUpdate:modelValue":l[3]||(l[3]=t=>a.value.type=t)},{default:o(()=>[e(B,{label:"menu"},{default:o(()=>l[17]||(l[17]=[d("菜单")])),_:1}),e(B,{label:"button"},{default:o(()=>l[18]||(l[18]=[d("按钮")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"菜单名称",prop:"menuName"},{default:o(()=>[e(_,{modelValue:a.value.menuName,"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.menuName=t),placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1}),a.value.type==="menu"?(f(),v(s,{key:0,label:"图标"},{default:o(()=>[e(_,{modelValue:a.value.icon,"onUpdate:modelValue":l[5]||(l[5]=t=>a.value.icon=t),placeholder:"请输入图标名称"},null,8,["modelValue"])]),_:1})):b("",!0),e(s,{label:"排序号",prop:"orderNum"},{default:o(()=>[e(G,{modelValue:a.value.orderNum,"onUpdate:modelValue":l[6]||(l[6]=t=>a.value.orderNum=t),min:0,max:999},null,8,["modelValue"])]),_:1}),e(s,{label:"权限标识",prop:"perms"},{default:o(()=>[e(_,{modelValue:a.value.perms,"onUpdate:modelValue":l[7]||(l[7]=t=>a.value.perms=t),placeholder:"请输入权限标识"},null,8,["modelValue"])]),_:1}),a.value.type==="menu"?(f(),v(s,{key:1,label:"路由地址",prop:"path"},{default:o(()=>[e(_,{modelValue:a.value.path,"onUpdate:modelValue":l[8]||(l[8]=t=>a.value.path=t),placeholder:"请输入路由地址"},null,8,["modelValue"])]),_:1})):b("",!0),a.value.type==="menu"?(f(),v(s,{key:2,label:"组件路径",prop:"component"},{default:o(()=>[e(_,{modelValue:a.value.component,"onUpdate:modelValue":l[9]||(l[9]=t=>a.value.component=t),placeholder:"请输入组件路径"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});const le=Q(Y,[["__scopeId","data-v-66c6654d"]]);export{le as default};
