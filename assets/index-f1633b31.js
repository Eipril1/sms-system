import{d as $,r as m,c as N,b as g,e as t,f as o,h as n,i as M,m as p,t as R,E as S,z as b,_ as z}from"./index-97e706ba.js";const A={class:"key-personnel-container"},I={class:"page-header"},K=$({__name:"index",setup(L){const V=m([{code:"KP001",name:"张三",position:"test",department:"安全监察部",role:"负责公司整体安全管理工作，确保安全管理体系有效运行...",appointDate:"2024-01-01",status:"在职"}]),s=m(!1),_=m("add"),v=m(),a=m({name:"",position:"",department:"",role:"",appointDate:""}),y={name:[{required:!0,message:"请输入姓名",trigger:"blur"}],position:[{required:!0,message:"请输入职位",trigger:"blur"}],department:[{required:!0,message:"请输入部门",trigger:"blur"}],role:[{required:!0,message:"请输入安全职责",trigger:"blur"}],appointDate:[{required:!0,message:"请选择任命日期",trigger:"change"}]},k=()=>{_.value="add",a.value={name:"",position:"",department:"",role:"",appointDate:""},s.value=!0},w=r=>{_.value="edit",a.value={...r},s.value=!0},x=r=>{},C=r=>{S.confirm("确认删除该任命记录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{b.success("删除成功")})},D=()=>{var r;(r=v.value)==null||r.validate(e=>{e&&(s.value=!1,b.success(_.value==="add"?"新增成功":"编辑成功"))})};return(r,e)=>{const i=n("el-button"),d=n("el-table-column"),B=n("el-tag"),U=n("el-table"),q=n("el-card"),f=n("el-input"),u=n("el-form-item"),E=n("el-date-picker"),h=n("el-form"),T=n("el-dialog");return M(),N("div",A,[g("div",I,[e[8]||(e[8]=g("h2",null,"任命关键安全人员",-1)),t(i,{type:"primary",onClick:k},{default:o(()=>e[7]||(e[7]=[p("新增任命")])),_:1})]),t(q,{class:"content-card"},{default:o(()=>[t(U,{data:V.value,style:{width:"100%"}},{default:o(()=>[t(d,{prop:"code",label:"任命编号",width:"120"}),t(d,{prop:"name",label:"姓名",width:"100"}),t(d,{prop:"position",label:"职位",width:"120"}),t(d,{prop:"department",label:"部门",width:"120"}),t(d,{prop:"role",label:"安全职责","min-width":"200","show-overflow-tooltip":""}),t(d,{prop:"appointDate",label:"任命日期",width:"120"}),t(d,{prop:"status",label:"状态",width:"100"},{default:o(({row:l})=>[t(B,{type:l.status==="在职"?"success":"info"},{default:o(()=>[p(R(l.status),1)]),_:2},1032,["type"])]),_:1}),t(d,{label:"操作",width:"200",fixed:"right"},{default:o(({row:l})=>[t(i,{link:"",type:"primary",onClick:c=>x(l)},{default:o(()=>e[9]||(e[9]=[p("查看")])),_:2},1032,["onClick"]),t(i,{link:"",type:"primary",onClick:c=>w(l)},{default:o(()=>e[10]||(e[10]=[p("编辑")])),_:2},1032,["onClick"]),t(i,{link:"",type:"danger",onClick:c=>C(l)},{default:o(()=>e[11]||(e[11]=[p("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),t(T,{modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value=l),title:_.value==="add"?"新增任命":"编辑任命",width:"600px"},{footer:o(()=>[t(i,{onClick:e[5]||(e[5]=l=>s.value=!1)},{default:o(()=>e[12]||(e[12]=[p("取消")])),_:1}),t(i,{type:"primary",onClick:D},{default:o(()=>e[13]||(e[13]=[p("确定")])),_:1})]),default:o(()=>[t(h,{ref_key:"formRef",ref:v,model:a.value,rules:y,"label-width":"100px"},{default:o(()=>[t(u,{label:"姓名",prop:"name"},{default:o(()=>[t(f,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),t(u,{label:"职位",prop:"position"},{default:o(()=>[t(f,{modelValue:a.value.position,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.position=l),placeholder:"请输入职位"},null,8,["modelValue"])]),_:1}),t(u,{label:"部门",prop:"department"},{default:o(()=>[t(f,{modelValue:a.value.department,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.department=l),placeholder:"请输入部门"},null,8,["modelValue"])]),_:1}),t(u,{label:"安全职责",prop:"role"},{default:o(()=>[t(f,{modelValue:a.value.role,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.role=l),type:"textarea",rows:4,placeholder:"请输入安全职责"},null,8,["modelValue"])]),_:1}),t(u,{label:"任命日期",prop:"appointDate"},{default:o(()=>[t(E,{modelValue:a.value.appointDate,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.appointDate=l),type:"date",placeholder:"请选择任命日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});const j=z(K,[["__scopeId","data-v-089475b4"]]);export{j as default};
