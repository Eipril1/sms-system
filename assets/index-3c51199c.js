import{d as I,r as p,c as G,e,f as t,b as h,h as r,i as H,m as i,t as N,_ as J}from"./index-97e706ba.js";const K={class:"users-container"},L={class:"pagination"},M={class:"dialog-footer"},O=I({__name:"index",setup(Q){const s=p({username:"",realName:"",department:"",status:""}),b=p(1),c=p(10),U=p(100),w=p([{username:"admin",realName:"管理员",department:"系统管理部",role:"管理员",phone:"13800138000",email:"admin@example.com",status:"1",createTime:"2024-01-01 12:00:00"}]),g=p(!1),V=p(""),y=p(),o=p({username:"",realName:"",department:"",role:"",phone:"",email:""}),z={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],realName:[{required:!0,message:"请输入姓名",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"change"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},C=()=>{console.log("搜索条件:",s.value)},S=()=>{V.value="新增用户",o.value={username:"",realName:"",department:"",role:"",phone:"",email:""},g.value=!0},q=n=>{V.value="编辑用户",o.value={...n},g.value=!0},T=n=>{console.log("重置密码:",n)},$=n=>{console.log("切换状态:",n)},B=async()=>{y.value&&await y.value.validate(n=>{n&&(console.log("提交表单:",o.value),g.value=!1)})},R=n=>{c.value=n,C()},D=n=>{b.value=n,C()};return(n,l)=>{const f=r("el-input"),d=r("el-form-item"),u=r("el-option"),_=r("el-select"),v=r("el-button"),k=r("el-form"),E=r("el-card"),m=r("el-table-column"),P=r("el-tag"),j=r("el-table"),A=r("el-pagination"),F=r("el-dialog");return H(),G("div",K,[e(E,{class:"search-card"},{default:t(()=>[e(k,{inline:!0,model:s.value},{default:t(()=>[e(d,{label:"用户名"},{default:t(()=>[e(f,{modelValue:s.value.username,"onUpdate:modelValue":l[0]||(l[0]=a=>s.value.username=a),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"姓名"},{default:t(()=>[e(f,{modelValue:s.value.realName,"onUpdate:modelValue":l[1]||(l[1]=a=>s.value.realName=a),placeholder:"请输入姓名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"部门"},{default:t(()=>[e(_,{modelValue:s.value.department,"onUpdate:modelValue":l[2]||(l[2]=a=>s.value.department=a),placeholder:"请选择",clearable:""},{default:t(()=>[e(u,{label:"全部",value:""}),e(u,{label:"飞行部",value:"飞行部"}),e(u,{label:"维修部",value:"维修部"}),e(u,{label:"地面服务部",value:"地面服务部"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"状态"},{default:t(()=>[e(_,{modelValue:s.value.status,"onUpdate:modelValue":l[3]||(l[3]=a=>s.value.status=a),placeholder:"请选择",clearable:""},{default:t(()=>[e(u,{label:"全部",value:""}),e(u,{label:"启用",value:"1"}),e(u,{label:"禁用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(v,{type:"primary",onClick:C},{default:t(()=>l[14]||(l[14]=[i("查询")])),_:1}),e(v,{type:"success",onClick:S},{default:t(()=>l[15]||(l[15]=[i("新增用户")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(j,{data:w.value,border:"",style:{width:"100%"}},{default:t(()=>[e(m,{type:"index",label:"序号",width:"60",align:"center"}),e(m,{prop:"username",label:"用户名",width:"120"}),e(m,{prop:"realName",label:"姓名",width:"120"}),e(m,{prop:"department",label:"部门",width:"150"}),e(m,{prop:"role",label:"角色",width:"150"}),e(m,{prop:"phone",label:"手机号",width:"120"}),e(m,{prop:"email",label:"邮箱",width:"180"}),e(m,{prop:"status",label:"状态",width:"100"},{default:t(({row:a})=>[e(P,{type:a.status==="1"?"success":"danger"},{default:t(()=>[i(N(a.status==="1"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"createTime",label:"创建时间",width:"180"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:t(({row:a})=>[e(v,{link:"",type:"primary",onClick:x=>q(a)},{default:t(()=>l[16]||(l[16]=[i("编辑")])),_:2},1032,["onClick"]),e(v,{link:"",type:"primary",onClick:x=>T(a)},{default:t(()=>l[17]||(l[17]=[i("重置密码")])),_:2},1032,["onClick"]),e(v,{link:"",type:a.status==="1"?"danger":"success",onClick:x=>$(a)},{default:t(()=>[i(N(a.status==="1"?"禁用":"启用"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"]),h("div",L,[e(A,{"current-page":b.value,"onUpdate:currentPage":l[4]||(l[4]=a=>b.value=a),"page-size":c.value,"onUpdate:pageSize":l[5]||(l[5]=a=>c.value=a),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:U.value,onSizeChange:R,onCurrentChange:D},null,8,["current-page","page-size","total"])]),e(F,{title:V.value,modelValue:g.value,"onUpdate:modelValue":l[13]||(l[13]=a=>g.value=a),width:"500px","close-on-click-modal":!1},{footer:t(()=>[h("span",M,[e(v,{onClick:l[12]||(l[12]=a=>g.value=!1)},{default:t(()=>l[18]||(l[18]=[i("取消")])),_:1}),e(v,{type:"primary",onClick:B},{default:t(()=>l[19]||(l[19]=[i("确定")])),_:1})])]),default:t(()=>[e(k,{ref_key:"formRef",ref:y,model:o.value,rules:z,"label-width":"80px"},{default:t(()=>[e(d,{label:"用户名",prop:"username"},{default:t(()=>[e(f,{modelValue:o.value.username,"onUpdate:modelValue":l[6]||(l[6]=a=>o.value.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(d,{label:"姓名",prop:"realName"},{default:t(()=>[e(f,{modelValue:o.value.realName,"onUpdate:modelValue":l[7]||(l[7]=a=>o.value.realName=a),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),e(d,{label:"部门",prop:"department"},{default:t(()=>[e(_,{modelValue:o.value.department,"onUpdate:modelValue":l[8]||(l[8]=a=>o.value.department=a),placeholder:"请选择"},{default:t(()=>[e(u,{label:"飞行部",value:"飞行部"}),e(u,{label:"维修部",value:"维修部"}),e(u,{label:"地面服务部",value:"地面服务部"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"角色",prop:"role"},{default:t(()=>[e(_,{modelValue:o.value.role,"onUpdate:modelValue":l[9]||(l[9]=a=>o.value.role=a),placeholder:"请选择"},{default:t(()=>[e(u,{label:"管理员",value:"admin"}),e(u,{label:"普通用户",value:"user"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"手机号",prop:"phone"},{default:t(()=>[e(f,{modelValue:o.value.phone,"onUpdate:modelValue":l[10]||(l[10]=a=>o.value.phone=a),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(d,{label:"邮箱",prop:"email"},{default:t(()=>[e(f,{modelValue:o.value.email,"onUpdate:modelValue":l[11]||(l[11]=a=>o.value.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});const X=J(O,[["__scopeId","data-v-5cefc066"]]);export{X as default};
