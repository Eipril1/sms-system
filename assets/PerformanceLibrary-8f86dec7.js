import{B as q}from"./BaseLibrary-fa67d690.js";import{d as P,r as f,L as w,k as S,f as o,h as c,i as I,e,m as y,t as _,_ as K}from"./index-97e706ba.js";const D=P({__name:"PerformanceLibrary",setup(R){const v=f(),h=f(),d=w({keyword:"",code:"",category:"",department:"",status:""}),r=w({code:"",name:"",category:"",department:"",description:"",target:"",warningValue:"",currentValue:"",status:"",monitorFreq:"",updateTime:"",remark:""}),k=u=>({target:"安全目标",management:"管理要求",operation:"运行指标"})[u]||u,L=u=>({normal:"正常",warning:"预警",exceeded:"超限"})[u]||u,x=u=>({normal:"success",warning:"warning",exceeded:"danger"})[u]||"info",g=[{code:"KPI-FLT-001",name:"飞行事故率",category:"target",department:"飞行部",description:"每10000飞行小时飞行事故次数",target:"0",warningValue:"0.05",currentValue:"0",status:"normal",monitorFreq:"monthly",updateTime:"2024-02-25",remark:"持续保持零事故"},{code:"KPI-MNT-001",name:"技术故障率",category:"operation",department:"维修部",description:"每100次起飞技术故障次数",target:"0.5",warningValue:"0.8",currentValue:"0.75",status:"warning",monitorFreq:"monthly",updateTime:"2024-02-25",remark:"需要关注发动机故障率上升趋势"},{code:"KPI-OPS-001",name:"放行正常率",category:"operation",department:"运控部",description:"航班正常放行比例",target:"99%",warningValue:"98%",currentValue:"98.5%",status:"warning",monitorFreq:"daily",updateTime:"2024-02-25",remark:"受天气影响较大"},{code:"KPI-SAF-001",name:"安全报告提交率",category:"management",department:"安全部",description:"安全信息报告按时提交比例",target:"100%",warningValue:"95%",currentValue:"97%",status:"normal",monitorFreq:"monthly",updateTime:"2024-02-25",remark:""},{code:"KPI-MNT-002",name:"MEL延期执行率",category:"operation",department:"维修部",description:"MEL项目延期执行比例",target:"5%",warningValue:"8%",currentValue:"9%",status:"exceeded",monitorFreq:"weekly",updateTime:"2024-02-25",remark:"需要加强备件储备"}],b=f(g),F=()=>{const{keyword:u,code:a,category:p,department:t,status:s}=d,n=g.filter(i=>{const m=!u||i.code.toLowerCase().includes(u.toLowerCase())||i.name.toLowerCase().includes(u.toLowerCase()),V=!a||i.code.toLowerCase().includes(a.toLowerCase()),l=!p||i.category===p,C=!t||i.department===t,T=!s||i.status===s;return m&&V&&l&&C&&T});b.value=n},U=()=>{d.keyword="",d.code="",d.category="",d.department="",d.status="",b.value=g};return(u,a)=>{const p=c("el-input"),t=c("el-option"),s=c("el-select"),n=c("el-table-column"),i=c("el-tag"),m=c("el-form-item"),V=c("el-form");return I(),S(q,{ref_key:"libraryRef",ref:v,data:b.value,onSearch:F,onReset:U},{"extra-search":o(()=>[e(p,{modelValue:d.code,"onUpdate:modelValue":a[0]||(a[0]=l=>d.code=l),placeholder:"指标编号",clearable:"",class:"search-input"},null,8,["modelValue"]),e(s,{modelValue:d.category,"onUpdate:modelValue":a[1]||(a[1]=l=>d.category=l),placeholder:"指标类别",clearable:""},{default:o(()=>[e(t,{label:"安全目标",value:"target"}),e(t,{label:"管理要求",value:"management"}),e(t,{label:"运行指标",value:"operation"})]),_:1},8,["modelValue"]),e(s,{modelValue:d.department,"onUpdate:modelValue":a[2]||(a[2]=l=>d.department=l),placeholder:"责任部门",clearable:""},{default:o(()=>[e(t,{label:"飞行部",value:"flight"}),e(t,{label:"维修部",value:"maintenance"}),e(t,{label:"运控部",value:"operation"}),e(t,{label:"安全部",value:"safety"})]),_:1},8,["modelValue"]),e(s,{modelValue:d.status,"onUpdate:modelValue":a[3]||(a[3]=l=>d.status=l),placeholder:"监控状态",clearable:""},{default:o(()=>[e(t,{label:"正常",value:"normal"}),e(t,{label:"预警",value:"warning"}),e(t,{label:"超限",value:"exceeded"})]),_:1},8,["modelValue"])]),columns:o(()=>[e(n,{type:"index",label:"序号",width:"60"}),e(n,{prop:"code",label:"指标编号",width:"120"}),e(n,{prop:"name",label:"指标名称","min-width":"200","show-overflow-tooltip":""}),e(n,{prop:"category",label:"指标类别",width:"100"},{default:o(({row:l})=>[y(_(k(l.category)),1)]),_:1}),e(n,{prop:"department",label:"责任部门",width:"100"}),e(n,{prop:"description",label:"指标描述","min-width":"200","show-overflow-tooltip":""}),e(n,{prop:"target",label:"目标值",width:"100"}),e(n,{prop:"warningValue",label:"预警值",width:"100"}),e(n,{prop:"currentValue",label:"当前值",width:"100"}),e(n,{prop:"status",label:"监控状态",width:"100"},{default:o(({row:l})=>[e(i,{type:x(l.status)},{default:o(()=>[y(_(L(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"monitorFreq",label:"监控频率",width:"100"}),e(n,{prop:"updateTime",label:"更新时间",width:"180"}),e(n,{prop:"remark",label:"备注","min-width":"150","show-overflow-tooltip":""})]),form:o(()=>[e(V,{ref_key:"formRef",ref:h,model:r,rules:u.rules,"label-width":"100px"},{default:o(()=>[e(m,{label:"指标编号",prop:"code"},{default:o(()=>[e(p,{modelValue:r.code,"onUpdate:modelValue":a[4]||(a[4]=l=>r.code=l),placeholder:"请输入指标编号"},null,8,["modelValue"])]),_:1}),e(m,{label:"指标名称",prop:"name"},{default:o(()=>[e(p,{modelValue:r.name,"onUpdate:modelValue":a[5]||(a[5]=l=>r.name=l),placeholder:"请输入指标名称"},null,8,["modelValue"])]),_:1}),e(m,{label:"指标类别",prop:"category"},{default:o(()=>[e(s,{modelValue:r.category,"onUpdate:modelValue":a[6]||(a[6]=l=>r.category=l),placeholder:"请选择指标类别"},{default:o(()=>[e(t,{label:"安全目标",value:"target"}),e(t,{label:"管理要求",value:"management"}),e(t,{label:"运行指标",value:"operation"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"责任部门",prop:"department"},{default:o(()=>[e(s,{modelValue:r.department,"onUpdate:modelValue":a[7]||(a[7]=l=>r.department=l),placeholder:"请选择责任部门"},{default:o(()=>[e(t,{label:"飞行部",value:"flight"}),e(t,{label:"维修部",value:"maintenance"}),e(t,{label:"运控部",value:"operation"}),e(t,{label:"安全部",value:"safety"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"指标描述",prop:"description"},{default:o(()=>[e(p,{modelValue:r.description,"onUpdate:modelValue":a[8]||(a[8]=l=>r.description=l),type:"textarea",rows:3,placeholder:"请输入指标描述"},null,8,["modelValue"])]),_:1}),e(m,{label:"目标值",prop:"target"},{default:o(()=>[e(p,{modelValue:r.target,"onUpdate:modelValue":a[9]||(a[9]=l=>r.target=l),placeholder:"请输入目标值"},null,8,["modelValue"])]),_:1}),e(m,{label:"预警值",prop:"warningValue"},{default:o(()=>[e(p,{modelValue:r.warningValue,"onUpdate:modelValue":a[10]||(a[10]=l=>r.warningValue=l),placeholder:"请输入预警值"},null,8,["modelValue"])]),_:1}),e(m,{label:"监控频率",prop:"monitorFreq"},{default:o(()=>[e(s,{modelValue:r.monitorFreq,"onUpdate:modelValue":a[11]||(a[11]=l=>r.monitorFreq=l),placeholder:"请选择监控频率"},{default:o(()=>[e(t,{label:"每日",value:"daily"}),e(t,{label:"每周",value:"weekly"}),e(t,{label:"每月",value:"monthly"}),e(t,{label:"每季",value:"quarterly"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"备注",prop:"remark"},{default:o(()=>[e(p,{modelValue:r.remark,"onUpdate:modelValue":a[12]||(a[12]=l=>r.remark=l),placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["data"])}}});const N=K(D,[["__scopeId","data-v-78c85349"]]);export{N as default};
